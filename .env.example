# Sentry Configuration
# Get your DSN from https://sentry.io/settings/projects/

# Sentry DSN (Data Source Name) - Required for Sentry to work
# This is a public key and can be safely exposed to the client
NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-dsn@sentry.io/your-project-id

# Environment name (development, staging, production)
# Used to differentiate errors across different environments
NEXT_PUBLIC_SENTRY_ENVIRONMENT=development

# Performance Tracing Sample Rate (0.0 to 1.0)
# Percentage of transactions to send to Sentry for performance monitoring
# 1.0 = 100% (all transactions), 0.1 = 10%, 0.0 = disabled
# Recommended: 1.0 for development, 0.1 for production
NEXT_PUBLIC_SENTRY_TRACES_SAMPLE_RATE=1.0

# Session Replay Sample Rate (0.0 to 1.0)
# Percentage of normal sessions to record
# Recommended: 0.0 for development, 0.1 for production
NEXT_PUBLIC_SENTRY_REPLAYS_SESSION_SAMPLE_RATE=0.0

# Session Replay on Error Sample Rate (0.0 to 1.0)
# Percentage of sessions with errors to record
# Recommended: 0.0 for development, 1.0 for production
NEXT_PUBLIC_SENTRY_REPLAYS_ON_ERROR_SAMPLE_RATE=0.0

# Enable/Disable Sentry
# Set to 'true' to enable Sentry, 'false' to disable
# By default, Sentry is disabled in development and enabled in production
NEXT_PUBLIC_SENTRY_ENABLED=false

# Sentry Auth Token (for source maps upload during build)
# Only needed for CI/CD pipelines to upload source maps
# Keep this secret - do not expose to client
# SENTRY_AUTH_TOKEN=your-sentry-auth-token

# Sentry Organization Slug (for source maps upload)
# SENTRY_ORG=your-organization-slug

# Sentry Project Name (for source maps upload)
# SENTRY_PROJECT=your-project-name

# ===================================
# Other Environment Variables
# ===================================

# ============================================
# Supabase Configuration
# ============================================

# Supabase URL
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co

# Supabase Anonymous Key (Public)
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key_here

# Supabase Service Role Key (Server-side only, NEVER expose to client)
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# ============================================
# Stripe Configuration
# ============================================

# Stripe Secret Key (Server-side only)
# Get from: https://dashboard.stripe.com/apikeys
# Format: sk_test_... or sk_live_...
STRIPE_SECRET_KEY=sk_test_your_secret_key_here

# Stripe Publishable Key (Client-side)
# Get from: https://dashboard.stripe.com/apikeys
# Format: pk_test_... or pk_live_...
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here

# Stripe Webhook Secret
# Get from: https://dashboard.stripe.com/webhooks
# Format: whsec_...
# Create webhook endpoint at: https://yourdomain.com/api/webhooks/stripe
# Subscribe to events: payment_intent.succeeded, payment_intent.payment_failed, charge.refunded,
#                      customer.subscription.created, customer.subscription.updated, customer.subscription.deleted
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ============================================
# Encryption Configuration
# ============================================

# Encryption Key for sensitive data (AES-256)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# MUST be 64 hex characters (32 bytes)
ENCRYPTION_KEY=your_64_character_hex_encryption_key_here

# ============================================
# Application Configuration
# ============================================

# Next.js Environment
NODE_ENV=development

# Application URL (for webhooks and redirects)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Authentication Bypass (Development Only)
# Set to 'true' to bypass authentication checks during development
# WARNING: NEVER set this to 'true' in production!
NEXT_PUBLIC_BYPASS_AUTH=false

# ============================================
# Email Configuration - Multi-Provider Support
# ============================================

# Primary Email Provider
# Options: sendgrid, mailgun, nodemailer
# The system will automatically failover to backup providers if primary fails
EMAIL_PROVIDER=sendgrid

# Email From Address (required for all providers)
EMAIL_FROM_ADDRESS=noreply@yourdomain.com

# Rate Limiting (emails per second)
# Default: 100 emails per second
EMAIL_RATE_LIMIT=100

# ============================================
# SendGrid Configuration
# ============================================
# Get your API key from: https://app.sendgrid.com/settings/api_keys
# Recommended for: High-volume transactional and marketing emails
SENDGRID_API_KEY=your_sendgrid_api_key_here

# ============================================
# Mailgun Configuration
# ============================================
# Get your API key from: https://app.mailgun.com/app/account/security/api_keys
# Get your domain from: https://app.mailgun.com/app/domains
# Recommended for: Reliable email delivery with detailed analytics
MAILGUN_API_KEY=your_mailgun_api_key_here
MAILGUN_DOMAIN=mg.yourdomain.com

# ============================================
# Nodemailer (SMTP) Configuration
# ============================================
# Used as fallback or when SendGrid/Mailgun are not configured
# Supports any SMTP provider (Gmail, Outlook, etc.)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_smtp_user@gmail.com
SMTP_PASS=your_smtp_password

# ============================================
# Email Webhooks
# ============================================
# Configure webhooks in your provider dashboards:
# SendGrid: https://app.sendgrid.com/settings/mail_settings/webhook_settings
#   Webhook URL: https://yourdomain.com/api/email/webhooks/sendgrid
#   Events: delivered, open, click, bounce, dropped, spam_report, unsubscribe
#
# Mailgun: https://app.mailgun.com/app/sending/domains/YOURDOMAIN/webhooks
#   Webhook URL: https://yourdomain.com/api/email/webhooks/mailgun
#   Events: delivered, opened, clicked, bounced, failed, complained, unsubscribed

# ============================================
# Firebase Configuration (Optional)
# ============================================

# FIREBASE_ADMIN_PROJECT_ID=your_firebase_project_id
# FIREBASE_ADMIN_CLIENT_EMAIL=your_firebase_client_email
# FIREBASE_ADMIN_PRIVATE_KEY=your_firebase_private_key

# ============================================
# Twilio Configuration (Optional)
# ============================================

# For SMS notifications
# TWILIO_ACCOUNT_SID=your_twilio_account_sid
# TWILIO_AUTH_TOKEN=your_twilio_auth_token
# TWILIO_PHONE_NUMBER=your_twilio_phone_number

# ============================================
# Marketplace Integration (Shopee & Lazada)
# ============================================

# Shopee Configuration
# Get credentials from: https://partner.shopeemobile.com/
# Note: These are stored in the database per shop, these are defaults for testing

# Shopee Partner ID
SHOPEE_PARTNER_ID=your_shopee_partner_id

# Shopee Partner Key (Used for authentication signature)
SHOPEE_PARTNER_KEY=your_shopee_partner_key

# Shopee Shop ID (Default shop)
SHOPEE_SHOP_ID=your_shopee_shop_id

# Shopee API URL (Default: https://partner.shopeemobile.com)
# SHOPEE_API_URL=https://partner.shopeemobile.com

# Shopee Default Category ID (for product uploads)
# SHOPEE_DEFAULT_CATEGORY_ID=100003

# Lazada Configuration
# Get credentials from: https://open.lazada.com/
# Note: These are stored in the database per shop, these are defaults for testing

# Lazada App Key
LAZADA_APP_KEY=your_lazada_app_key

# Lazada App Secret (Used for HMAC signature)
LAZADA_APP_SECRET=your_lazada_app_secret

# Lazada Region (TH, SG, MY, VN, PH, ID)
LAZADA_REGION=TH

# Lazada API URL (Default: https://api.lazada.co.th/rest)
# LAZADA_API_URL=https://api.lazada.co.th/rest

# Lazada Default Category ID (for product uploads)
# LAZADA_DEFAULT_CATEGORY_ID=10000001

# Marketplace Sync Configuration
# How often to sync orders (in minutes, default: 15)
# MARKETPLACE_SYNC_INTERVAL=15

# Enable/Disable automatic sync
# MARKETPLACE_AUTO_SYNC=true

# ============================================
# Redis & Caching Configuration
# ============================================

# Redis URL for caching (Production)
# Format: redis://[username][:password]@host:port/database
# Example: redis://localhost:6379
# Leave empty or unset to use in-memory cache
REDIS_URL=redis://localhost:6379

# Cache Strategy: 'memory' for development, 'redis' for production
# memory: Uses in-memory cache (no Redis required)
# redis: Uses Redis for distributed caching
CACHE_STRATEGY=memory

# Default cache TTL in seconds (default: 1800 = 30 minutes)
CACHE_DEFAULT_TTL=1800

# Database query timeout in milliseconds (default: 30000 = 30 seconds)
DB_QUERY_TIMEOUT=30000

# ============================================
# Thai Shipping Providers Integration
# ============================================

# Kerry Express Configuration
# Get API credentials from: https://th.kerryexpress.com/
# API Documentation: https://api.kerryexpress.co.th/
KERRY_API_KEY=your_kerry_api_key_here
KERRY_ENVIRONMENT=production

# Flash Express Configuration
# Get API credentials from: https://www.flashexpress.com/
# API Documentation: https://developer.flashexpress.com/
FLASH_API_KEY=your_flash_api_key_here
FLASH_MERCHANT_ID=your_flash_merchant_id_here
FLASH_ENVIRONMENT=production

# Thailand Post Configuration
# Get API credentials from: https://trackapi.thailandpost.co.th/
# Register at Thailand Post to get API token
THAILAND_POST_API_KEY=your_thailand_post_api_token_here
THAILAND_POST_ENVIRONMENT=production

# Default Sender Address Configuration
# Used for creating shipments if not specified
COMPANY_NAME=Your Company Name
COMPANY_PHONE=0123456789
COMPANY_ADDRESS=123 Company Address
COMPANY_DISTRICT=District
COMPANY_PROVINCE=Bangkok
COMPANY_POSTAL_CODE=10100

# ============================================
# Cloud File Storage Configuration
# ============================================

# Storage Provider
# Options: 'supabase' or 's3'
# Supabase: Recommended for most users, integrated with Supabase
# S3: Amazon S3 for enterprise-scale storage
STORAGE_PROVIDER=supabase

# Storage Bucket Name
# For Supabase: Create a bucket named 'files' in Supabase Storage
# For S3: Your S3 bucket name
STORAGE_BUCKET=files

# ============================================
# AWS S3 Configuration (if STORAGE_PROVIDER=s3)
# ============================================

# AWS Region (e.g., us-east-1, ap-southeast-1)
AWS_REGION=us-east-1

# AWS Access Key ID
# Get from: https://console.aws.amazon.com/iam/
AWS_ACCESS_KEY_ID=your_aws_access_key_id

# AWS Secret Access Key
# Get from: https://console.aws.amazon.com/iam/
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key

# Optional: Custom S3 endpoint (for S3-compatible services)
# Leave empty for standard AWS S3
# AWS_S3_ENDPOINT=https://s3.us-east-1.amazonaws.com

# ============================================
# File Upload Limits
# ============================================

# Maximum file size in bytes (default: 104857600 = 100MB)
MAX_FILE_SIZE=104857600

# Storage quota per user in bytes (default: 10737418240 = 10GB)
STORAGE_QUOTA_PER_USER=10737418240

# Allowed file types (comma-separated MIME types or extensions)
# Leave empty to allow all file types
# Example: image/*,video/*,application/pdf,.doc,.docx
# ALLOWED_FILE_TYPES=

# ============================================
# File Security
# ============================================

# Enable virus scanning (requires ClamAV or similar)
# Set to 'true' to enable, 'false' to disable
ENABLE_VIRUS_SCANNING=false

# Enable file encryption at rest
# Set to 'true' to enable, 'false' to disable
ENABLE_FILE_ENCRYPTION=false

# ============================================
# AI Chatbot Configuration
# ============================================

# AI Provider: 'openai' or 'anthropic'
# Determines which AI service to use for the chatbot
AI_PROVIDER=openai

# OpenAI Configuration
# Get your API key from: https://platform.openai.com/api-keys
# Required if AI_PROVIDER=openai
OPENAI_API_KEY=sk-your-openai-api-key-here

# Anthropic Claude Configuration
# Get your API key from: https://console.anthropic.com/
# Required if AI_PROVIDER=anthropic
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here
# Alternative key name (both work)
CLAUDE_API_KEY=sk-ant-your-claude-api-key-here

# AI Model Selection
# OpenAI models: gpt-4, gpt-3.5-turbo
# Anthropic models: claude-3-opus, claude-3-sonnet, claude-3-haiku
# Recommended: gpt-4 or claude-3-sonnet for best results
AI_MODEL=gpt-4

# AI Temperature (0.0 - 2.0)
# Controls randomness in responses
# 0.0 = More deterministic, 2.0 = More creative
# Recommended: 0.7 for customer service
AI_TEMPERATURE=0.7

# Max Tokens per Response
# Maximum length of AI responses
# Recommended: 500-1000 for chatbot responses
AI_MAX_TOKENS=1000

# Custom System Prompt (Optional)
# Override the default chatbot personality and instructions
# Leave empty to use default
# AI_SYSTEM_PROMPT="You are a helpful customer service AI..."

# Enable Response Caching
# Cache similar queries to reduce API costs and improve speed
# true = enabled, false = disabled
AI_ENABLE_CACHE=true

# Cache TTL (Time To Live) in seconds
# How long to cache responses (default: 3600 = 1 hour)
AI_CACHE_TTL=3600

# Enable PII Masking
# Automatically mask personal information in logs
# true = mask emails, phones, cards (recommended)
# false = no masking
AI_ENABLE_PII_MASKING=true

# Auto-Escalate on Low Confidence
# Automatically escalate to human agent when AI is uncertain
# true = auto-escalate, false = continue conversation
AI_AUTO_ESCALATE_LOW_CONFIDENCE=true

# Low Confidence Threshold (0.0 - 1.0)
# Confidence level below which to escalate
# 0.6 = escalate if less than 60% confident
AI_LOW_CONFIDENCE_THRESHOLD=0.6

# Chatbot Rate Limiting
# Maximum messages per user per minute
# Prevents spam and abuse
CHATBOT_RATE_LIMIT_MESSAGES=20
CHATBOT_RATE_LIMIT_WINDOW=60

# IP-based Rate Limiting
# Maximum requests per IP per hour (for anonymous users)
CHATBOT_IP_RATE_LIMIT_MESSAGES=100
CHATBOT_IP_RATE_LIMIT_WINDOW=3600

# Enable Content Filtering
# Filter inappropriate or harmful content
# true = enabled (recommended), false = disabled
AI_ENABLE_CONTENT_FILTER=true

# WhatsApp Integration (Optional)
# For chatbot integration with WhatsApp Business API
# WHATSAPP_BUSINESS_ACCOUNT_ID=your-account-id
# WHATSAPP_PHONE_NUMBER_ID=your-phone-number-id
# WHATSAPP_ACCESS_TOKEN=your-access-token
# WHATSAPP_VERIFY_TOKEN=your-verify-token

# Facebook Messenger Integration (Optional)
# For chatbot integration with Facebook Messenger
# FACEBOOK_PAGE_ACCESS_TOKEN=your-page-access-token
# FACEBOOK_APP_SECRET=your-app-secret
# FACEBOOK_VERIFY_TOKEN=your-verify-token

# ============================================
# WhatsApp Business API Configuration
# ============================================

# WhatsApp Business Account ID
# Get from: https://business.facebook.com/settings/whatsapp-business-accounts/
# This is your WhatsApp Business Account ID (WABA ID)
WHATSAPP_BUSINESS_ACCOUNT_ID=your_whatsapp_business_account_id

# WhatsApp Phone Number ID
# Get from: WhatsApp Manager > Phone Numbers
# This is the ID of the phone number you want to send messages from
WHATSAPP_PHONE_NUMBER_ID=your_whatsapp_phone_number_id

# WhatsApp Access Token
# Get from: Meta Business Settings > System Users > Generate Token
# This is a permanent access token for your WhatsApp Business API
# Format: EAAxxxxxxxxxxxxx
WHATSAPP_ACCESS_TOKEN=your_whatsapp_access_token

# WhatsApp Webhook Verify Token
# Create a random string to verify webhook subscriptions
# This should be a secret token that you create
# Recommended: Use a strong random string (e.g., generated with openssl rand -hex 32)
WHATSAPP_WEBHOOK_SECRET=your_webhook_verify_token

# WhatsApp API Version
# Default: v18.0
# Check for latest version: https://developers.facebook.com/docs/graph-api/changelog
# WHATSAPP_API_VERSION=v18.0

# Webhook Configuration
# Configure webhooks in Meta Developer Console:
# Callback URL: https://yourdomain.com/api/whatsapp/webhook
# Verify Token: Use the value from WHATSAPP_WEBHOOK_SECRET
# Subscribe to: messages, message_status, messaging_handovers

# ============================================
# WhatsApp Features
# ============================================

# Enable/Disable WhatsApp Features
# Set to 'true' to enable, 'false' to disable
WHATSAPP_ENABLE_NOTIFICATIONS=true
WHATSAPP_ENABLE_CAMPAIGNS=true
WHATSAPP_ENABLE_CHATBOT=true

# Message Rate Limiting
# Maximum messages per second to avoid rate limits
# WhatsApp default limits: 1000 messages per second
# Recommended: 100 for safety margin
WHATSAPP_RATE_LIMIT_PER_SECOND=100

# Template Message Defaults
# Default language for templates
WHATSAPP_DEFAULT_LANGUAGE=th

# Auto-Reply Settings
# Enable automatic replies for incoming messages
WHATSAPP_AUTO_REPLY_ENABLED=false
WHATSAPP_AUTO_REPLY_MESSAGE=ขอบคุณที่ติดต่อเรา เราจะตอบกลับโดยเร็วที่สุดค่ะ

# Business Hours (Optional)
# Set business hours for auto-replies (24-hour format)
# Example: 09:00-18:00
# WHATSAPP_BUSINESS_HOURS_START=09:00
# WHATSAPP_BUSINESS_HOURS_END=18:00
# WHATSAPP_BUSINESS_DAYS=1,2,3,4,5 (1=Monday, 7=Sunday)

# ============================================
# WhatsApp Media Storage
# ============================================

# Media Upload URL Prefix
# Base URL for media files that will be sent via WhatsApp
# This should be publicly accessible
# Example: https://yourdomain.com/media/
WHATSAPP_MEDIA_URL_PREFIX=https://yourdomain.com/media/

# Maximum Media File Size (bytes)
# WhatsApp limits: Image 5MB, Video 16MB, Document 100MB
# Default: 16MB
WHATSAPP_MAX_MEDIA_SIZE=16777216

# ============================================
# WhatsApp Analytics
# ============================================

# Enable message tracking and analytics
# Set to 'true' to track message delivery, read rates, etc.
WHATSAPP_ENABLE_ANALYTICS=true

# Log all messages to database
# Set to 'true' to keep complete message history
WHATSAPP_LOG_MESSAGES=true

# ============================================
# WhatsApp Integration with CRM
# ============================================

# Auto-create contacts from incoming WhatsApp messages
WHATSAPP_AUTO_CREATE_CONTACTS=true

# Link WhatsApp contacts to CRM customers
# Set to 'true' to automatically match phone numbers with existing customers
WHATSAPP_AUTO_LINK_CUSTOMERS=true

# Opt-in Requirement
# Set to 'true' to require customer opt-in before sending marketing messages
# Recommended: true (required for GDPR compliance)
WHATSAPP_REQUIRE_OPT_IN=true
